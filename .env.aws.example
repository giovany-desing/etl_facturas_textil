# ========== AWS CONFIGURATION TEMPLATE ==========
# Este es un archivo de ejemplo. Copia este archivo a .env.aws y reemplaza
# los valores con tus credenciales y configuración real de AWS.
#
# IMPORTANTE: 
# - NO commitees el archivo .env.aws real (debe estar en .gitignore)
# - En producción, usa IAM roles en lugar de access keys
# - Todos los valores marcados con REPLACE_WITH_* deben ser reemplazados

# ========== AWS CREDENTIALS ==========
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=REPLACE_WITH_ACCOUNT_ID
AWS_ACCESS_KEY_ID=REPLACE_WITH_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_SECRET_ACCESS_KEY

# ========== ECS CONFIGURATION ==========
ECS_CLUSTER_NAME=etl-facturas-cluster
ECS_TASK_DEFINITION_FASTAPI=fastapi-service
ECS_TASK_DEFINITION_TRAINING=model-training
ECS_TASK_DEFINITION_MLFLOW=mlflow-server
ECS_SUBNETS=REPLACE_WITH_SUBNET_ID_1,REPLACE_WITH_SUBNET_ID_2
ECS_SECURITY_GROUPS=REPLACE_WITH_SECURITY_GROUP_ID
ECS_EXECUTION_ROLE_ARN=arn:aws:iam::REPLACE_WITH_ACCOUNT_ID:role/etl-facturas-ecs-task-execution-role
ECS_TASK_ROLE_ARN=arn:aws:iam::REPLACE_WITH_ACCOUNT_ID:role/etl-facturas-ecs-task-role

# ========== S3 BUCKETS ==========
S3_BUCKET_FACTURAS=mes-en-curso
S3_BUCKET_MODELOS=textil-modelos
S3_BUCKET_MLFLOW=textil-mlflow-artifacts
S3_BUCKET_DRIFT_DATA=textil-drift-data
S3_BUCKET_AIRFLOW_DAGS=etl-facturas-airflow-dags

# ========== DATABASE ==========
MYSQL_HOST=REPLACE_WITH_RDS_ENDPOINT
MYSQL_PORT=3306
MYSQL_DATABASE=textil
MYSQL_USER=samaca

# ========== MLFLOW ==========
MLFLOW_TRACKING_URI=http://mlflow-service.facturas-namespace:5001
MLFLOW_BACKEND_STORE_URI=mysql+pymysql://samaca:MYSQL_PASSWORD@REPLACE_WITH_RDS_ENDPOINT:3306/mlflow
MLFLOW_ARTIFACT_ROOT=s3://textil-mlflow-artifacts/

# ========== CLOUDWATCH ==========
CLOUDWATCH_LOG_GROUP_FASTAPI=/ecs/fastapi
CLOUDWATCH_LOG_GROUP_TRAINING=/ecs/model-training
CLOUDWATCH_LOG_GROUP_MLFLOW=/ecs/mlflow
CLOUDWATCH_LOG_GROUP_MWAA=/aws/mwaa/etl-facturas-airflow
CLOUDWATCH_NAMESPACE=ETLFacturasMLOps

# ========== SECRETS MANAGER ==========
SECRETS_PREFIX=textil
MYSQL_SECRET_NAME=textil/mysql/credentials
AWS_SECRET_NAME=textil/aws/credentials
GOOGLE_CREDENTIALS_SECRET_NAME=textil/google/credentials
GOOGLE_TOKEN_SECRET_NAME=textil/google/token
SLACK_WEBHOOK_SECRET_NAME=textil/slack/webhook

# ========== MWAA ==========
MWAA_ENVIRONMENT_NAME=etl-facturas-airflow
MWAA_DAG_S3_BUCKET=etl-facturas-airflow-dags
MWAA_EXECUTION_ROLE_ARN=arn:aws:iam::REPLACE_WITH_ACCOUNT_ID:role/etl-facturas-mwaa-execution-role

# ========== ALB ==========
ALB_DNS_NAME=REPLACE_WITH_ALB_DNS_NAME
ALB_TARGET_GROUP_ARN=arn:aws:elasticloadbalancing:REPLACE_WITH_REGION:REPLACE_WITH_ACCOUNT_ID:targetgroup/REPLACE_WITH_TARGET_GROUP_NAME/xxx
ALB_CERTIFICATE_ARN=arn:aws:acm:REPLACE_WITH_REGION:REPLACE_WITH_ACCOUNT_ID:certificate/REPLACE_WITH_CERTIFICATE_ID

# ========== ECR ==========
ECR_REPOSITORY_FASTAPI=REPLACE_WITH_ACCOUNT_ID.dkr.ecr.REPLACE_WITH_REGION.amazonaws.com/etl-facturas-fastapi
ECR_REPOSITORY_TRAINING=REPLACE_WITH_ACCOUNT_ID.dkr.ecr.REPLACE_WITH_REGION.amazonaws.com/etl-facturas-training
ECR_REPOSITORY_MLFLOW=REPLACE_WITH_ACCOUNT_ID.dkr.ecr.REPLACE_WITH_REGION.amazonaws.com/etl-facturas-mlflow
